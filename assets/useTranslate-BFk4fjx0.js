import{G as S}from"./index-DqF_UOxf.js";const P=e=>{let t;const n=new Set,s=(u,l)=>{const g=typeof u=="function"?u(t):u;if(!Object.is(g,t)){const f=t;t=l??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(y=>y(t,f))}},r=()=>t,c={setState:s,getState:r,getInitialState:()=>m,subscribe:u=>(n.add(u),()=>n.delete(u))},m=t=e(s,r,c);return c},w=(e=>e?P(e):P),R=e=>e;function $(e,t=R){const n=S.useSyncExternalStore(e.subscribe,S.useCallback(()=>t(e.getState()),[e,t]),S.useCallback(()=>t(e.getInitialState()),[e,t]));return S.useDebugValue(n),n}const L=e=>{const t=w(e),n=s=>$(t,s);return Object.assign(n,t),n},I=(e=>e?L(e):L);function A(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var a;const p=m=>m===null?null:JSON.parse(m,void 0),c=(a=n.getItem(r))!=null?a:null;return c instanceof Promise?c.then(p):p(c)},setItem:(r,a)=>n.setItem(r,JSON.stringify(a,void 0)),removeItem:r=>n.removeItem(r)}}const E=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return E(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return E(s)(n)}}}},O=(e,t)=>(n,s,r)=>{let a={storage:A(()=>localStorage),partialize:o=>o,version:0,merge:(o,v)=>({...v,...o}),...t},p=!1,c=0;const m=new Set,u=new Set;let l=a.storage;if(!l)return e((...o)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...o)},s,r);const g=()=>{const o=a.partialize({...s()});return l.setItem(a.name,{state:o,version:a.version})},f=r.setState;r.setState=(o,v)=>(f(o,v),g());const y=e((...o)=>(n(...o),g()),s,r);r.getInitialState=()=>y;let b;const B=()=>{var o,v;if(!l)return;const C=++c;p=!1,m.forEach(i=>{var d;return i((d=s())!=null?d:y)});const h=((v=a.onRehydrateStorage)==null?void 0:v.call(a,(o=s())!=null?o:y))||void 0;return E(l.getItem.bind(l))(a.name).then(i=>{if(i)if(typeof i.version=="number"&&i.version!==a.version){if(a.migrate){const d=a.migrate(i.state,i.version);return d instanceof Promise?d.then(T=>[!0,T]):[!0,d]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,i.state];return[!1,void 0]}).then(i=>{var d;if(C!==c)return;const[T,N]=i;if(b=a.merge(N,(d=s())!=null?d:y),n(b,!0),T)return g()}).then(()=>{C===c&&(h?.(b,void 0),b=s(),p=!0,u.forEach(i=>i(b)))}).catch(i=>{C===c&&h?.(void 0,i)})};return r.persist={setOptions:o=>{a={...a,...o},o.storage&&(l=o.storage)},clearStorage:()=>{l?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>B(),hasHydrated:()=>p,onHydrate:o=>(m.add(o),()=>{m.delete(o)}),onFinishHydration:o=>(u.add(o),()=>{u.delete(o)})},a.skipHydration||B(),b||y},x=O,Te=I()(x(e=>({selectedCurrency:"€",setCurrency:t=>e({selectedCurrency:t})}),{name:"currency-storage"})),Ee=I()(x((e,t)=>({transactions:[],addTransaction:n=>{e(s=>({transactions:[{...n,id:s.transactions.length>0?Math.max(...s.transactions.map(a=>a.id))+1:1},...s.transactions]}))},removeTransaction:n=>{e(s=>({transactions:s.transactions.filter(r=>r.id!==n)}))},removeAllTransactions:()=>{e(()=>({transactions:[]}))},getTransactions:()=>t().transactions}),{name:"transactions-storage",version:1})),F=I()(x(e=>({lang:"ru",setLang:t=>e({lang:t})}),{name:"language-storage",version:1})),_={transactionsPage:"История операций",budgetPage:"Бюджет",settingsPage:"Настройки"},H={dashboard:"Главная",budget:"Бюджет",transactions:"Операции",settings:"Настройки"},G={balance:"Баланс",income:"Доход",expenses:"Расход",all:"Все",spent:"Потрачено",limit:"Лимит",remaining:"Осталось"},D={settingsPage:"Общие"},k={language:"Язык",Darktheme:"Темная Тема",EconomizesBattery:"Экономит заряд батареи",ClassicView:"Классический вид",currency:"Валюта",Removebudget:"Удалить бюджет",Confirmremovebudget:"Вы уверены, что хотите удалить бюджет? Это действие необратимо.",RemoveTransactions:"Удалить все транзакции",ConfirmremoveTransactions:"Вы уверены, что хотите удалить все транзакции? Это действие необратимо.",Cancel:"Отмена",Remove:"Удалить",Logout:"Выйти из аккаунта"},W={"€":"Евро",$:"Доллар","₽":"Рубль","₴":"Гривна"},j={Food:"Еда",Transport:"Транспорт",Housing:"Жилье",Restaurants:"Рестораны",Other:"Другое",Income:"Доход",Crypto:"Крипто"},J={expenseChartTitle:"Расходы по категориям"},M={filters:{all:"Все",income:"Доходы",expense:"Расходы"},empty:"Операций пока нет",gpt:{title:"GPT советник",typeLabel:"Фокус рекомендации",typeOverview:"Обзор расходов",typeSavings:"План накоплений",typeCuts:"Сокращение расходов",typeBudget:"Контроль бюджета",goalLabel:"Ваша цель или проблема",goalPlaceholder:"Например: копить 20 000 в месяц, уменьшить траты на еду...",cta:"Получить совет",loading:"Анализируем...",resultTitle:"Рекомендации",emptyError:"Опишите цель или проблему для анализа.",noTransactions:"Добавьте операции, чтобы получить совет.",apiMissing:"Укажите VITE_OPENAI_API_KEY, чтобы включить GPT-советы.",error:"Не удалось получить совет. Попробуйте еще раз."}},Y={title:"Новая операция",expense:"Расход",income:"Доход",amount:"Сумма",category:"Категория",newCategory:"+ Новая",editCategory:"Редактирование",description:"Описание",descriptionPlaceholder:"На что потратили?",submit:"Подтвердить"},q={noCategory:"Без категории"},z={title:"Расходы по категориям",noCategory:"Без категории",noExpenses:"Нет расходов"},K={types:{needs:"Нужды",wants:"Желания",savings:"Сбережения"},labels:{spent:"Потрачено",limit:"Лимит",remaining:"Осталось"}},U={setBudget:"Установить бюджет",budgetFor:"Бюджет на {date}",spent:"Потрачено",remaining:"Осталось"},V={title:"Общий бюджет",description:"Еще не установлен, пора начать",action:"Установить бюджет"},Q={amountLabel:"Введите сумму бюджета ({currency})",schemeLabel:"Выберите схему разделения бюджета",schemePlaceholder:"Выберите схему",schemeOption:"Потребности: {needs}%, Желания: {wants}%, Накопления: {savings}%",errors:{amountInvalid:"Введите корректную сумму бюджета",schemeRequired:"Выберите схему разделения"},save:"Сохранить"},X={titleAdd:"Добавить категорию",titleEdit:"Редактирование категории",nameLabel:"Название",namePlaceholder:"Например: Здоровье",typeLabel:"Тип",typeExpense:"Расход",typeIncome:"Доход",budgetTypeLabel:"Бюджетный тип",budgetTypeOnlyExpense:"Бюджетный тип доступен только для расходов",budgetTypeNeeds:"Необходимые",budgetTypeWants:"Развлечения",budgetTypeSavings:"Сбережения",iconLabel:"Иконка",addButton:"Добавить категорию",deleteButton:"Удалить категорию",saveButton:"Сохранить изменения",deleteBlocked:"Невозможно удалить категорию, так как существуют транзакции с этой категорией."},Z={version:"Finance App • v1.0.0"},ee={titles:_,navigation:H,common:G,SettingGroups:D,settingsBTN:k,currencyNames:W,categories:j,dashboard:J,transactions:M,addTransaction:Y,transactionCard:q,expenseChart:z,budgetCategories:K,budgetSummary:U,budgetEmpty:V,budgetForm:Q,customCategories:X,footer:Z},te={transactionsPage:"Transaction History",budgetPage:"Budget",settingsPage:"Settings"},ne={dashboard:"Dashboard",budget:"Budget",transactions:"Transactions",settings:"Settings"},se={balance:"Balance",income:"Income",expenses:"Expenses",all:"All",spent:"Spent",limit:"Limit",remaining:"Remaining"},ae={settingsPage:"General"},oe={language:"Language",Darktheme:"Dark Theme",EconomizesBattery:"Saves battery",ClassicView:"Classic view",currency:"Currency",Removebudget:"Remove Budget",Confirmremovebudget:"Are you sure you want to remove the budget? This action is irreversible.",RemoveTransactions:"Remove All Transactions",ConfirmremoveTransactions:"Are you sure you want to remove all transactions? This action is irreversible.",Cancel:"Cancel",Remove:"Remove",Logout:"Log Out"},re={"€":"Euro",$:"Dollar","₽":"Ruble","₴":"Hryvnia"},ie={Food:"Food",Transport:"Transport",Housing:"Housing",Restaurants:"Restaurants",Other:"Other",Income:"Income",Crypto:"Crypto"},ce={expenseChartTitle:"Expenses by Category"},le={filters:{all:"All",income:"Income",expense:"Expenses"},empty:"No transactions yet",gpt:{title:"GPT advisor",typeLabel:"Recommendation focus",typeOverview:"Spending overview",typeSavings:"Savings plan",typeCuts:"Cost cutting",typeBudget:"Budget control",goalLabel:"Your goal or problem",goalPlaceholder:"e.g. Save $300/month, reduce dining out, plan for a trip...",cta:"Get advice",loading:"Analyzing...",resultTitle:"Advice",emptyError:"Describe your goal or problem to analyze.",noTransactions:"Add some transactions to get advice.",apiMissing:"Set VITE_OPENAI_API_KEY to enable GPT advice.",error:"Unable to get advice right now. Try again."}},ue={title:"New transaction",expense:"Expense",income:"Income",amount:"Amount",category:"Category",newCategory:"New",editCategory:"Edit",description:"Description",descriptionPlaceholder:"What did you spend on?",submit:"Confirm"},ge={noCategory:"No category"},de={title:"Expenses by Category",noCategory:"No category",noExpenses:"No expenses"},me={types:{needs:"Needs",wants:"Wants",savings:"Savings"},labels:{spent:"Spent",limit:"Limit",remaining:"Remaining"}},pe={setBudget:"Set Budget",budgetFor:"Budget for {date}",spent:"Spent",remaining:"Remaining"},ye={title:"Total budget",description:"Not set yet, time to start",action:"Set budget"},be={amountLabel:"Enter budget amount ({currency})",schemeLabel:"Choose a budget split scheme",schemePlaceholder:"Select a scheme",schemeOption:"Needs: {needs}%, Wants: {wants}%, Savings: {savings}%",errors:{amountInvalid:"Enter a valid budget amount",schemeRequired:"Choose a split scheme"},save:"Save"},ve={titleAdd:"Add category",titleEdit:"Edit category",nameLabel:"Name",namePlaceholder:"e.g. Health",typeLabel:"Type",typeExpense:"Expense",typeIncome:"Income",budgetTypeLabel:"Budget type",budgetTypeOnlyExpense:"Budget type is available only for expenses",budgetTypeNeeds:"Needs",budgetTypeWants:"Wants",budgetTypeSavings:"Savings",iconLabel:"Icon",addButton:"Add category",deleteButton:"Delete category",saveButton:"Save changes",deleteBlocked:"Cannot delete category because there are transactions using it."},he={version:"Finance App • v1.0.0"},Se={titles:te,navigation:ne,common:se,SettingGroups:ae,settingsBTN:oe,currencyNames:re,categories:ie,dashboard:ce,transactions:le,addTransaction:ue,transactionCard:ge,expenseChart:de,budgetCategories:me,budgetSummary:pe,budgetEmpty:ye,budgetForm:be,customCategories:ve,footer:he},fe={ru:ee,en:Se},Ie=()=>{const e=F(t=>t.lang);return t=>{const n=t.split(".");let s=fe[e];for(const r of n)s=s?.[r];return s??t}};export{Te as a,Ie as b,F as c,I as d,x as p,Ee as u};
