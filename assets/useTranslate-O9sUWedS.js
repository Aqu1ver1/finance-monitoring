import{G as f}from"./index-Cj01AbfQ.js";const B=e=>{let t;const n=new Set,s=(l,u)=>{const d=typeof l=="function"?l(t):l;if(!Object.is(d,t)){const S=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(y=>y(t,S))}},r=()=>t,c={setState:s,getState:r,getInitialState:()=>m,subscribe:l=>(n.add(l),()=>n.delete(l))},m=t=e(s,r,c);return c},$=(e=>e?B(e):B),w=e=>e;function P(e,t=w){const n=f.useSyncExternalStore(e.subscribe,f.useCallback(()=>t(e.getState()),[e,t]),f.useCallback(()=>t(e.getInitialState()),[e,t]));return f.useDebugValue(n),n}const L=e=>{const t=$(e),n=s=>P(t,s);return Object.assign(n,t),n},I=(e=>e?L(e):L);function O(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var o;const p=m=>m===null?null:JSON.parse(m,void 0),c=(o=n.getItem(r))!=null?o:null;return c instanceof Promise?c.then(p):p(c)},setItem:(r,o)=>n.setItem(r,JSON.stringify(o,void 0)),removeItem:r=>n.removeItem(r)}}const x=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return x(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return x(s)(n)}}}},A=(e,t)=>(n,s,r)=>{let o={storage:O(()=>localStorage),partialize:a=>a,version:0,merge:(a,v)=>({...v,...a}),...t},p=!1,c=0;const m=new Set,l=new Set;let u=o.storage;if(!u)return e((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...a)},s,r);const d=()=>{const a=o.partialize({...s()});return u.setItem(o.name,{state:a,version:o.version})},S=r.setState;r.setState=(a,v)=>(S(a,v),d());const y=e((...a)=>(n(...a),d()),s,r);r.getInitialState=()=>y;let b;const E=()=>{var a,v;if(!u)return;const C=++c;p=!1,m.forEach(i=>{var g;return i((g=s())!=null?g:y)});const h=((v=o.onRehydrateStorage)==null?void 0:v.call(o,(a=s())!=null?a:y))||void 0;return x(u.getItem.bind(u))(o.name).then(i=>{if(i)if(typeof i.version=="number"&&i.version!==o.version){if(o.migrate){const g=o.migrate(i.state,i.version);return g instanceof Promise?g.then(T=>[!0,T]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,i.state];return[!1,void 0]}).then(i=>{var g;if(C!==c)return;const[T,R]=i;if(b=o.merge(R,(g=s())!=null?g:y),n(b,!0),T)return d()}).then(()=>{C===c&&(h?.(b,void 0),b=s(),p=!0,l.forEach(i=>i(b)))}).catch(i=>{C===c&&h?.(void 0,i)})};return r.persist={setOptions:a=>{o={...o,...a},a.storage&&(u=a.storage)},clearStorage:()=>{u?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>E(),hasHydrated:()=>p,onHydrate:a=>(m.add(a),()=>{m.delete(a)}),onFinishHydration:a=>(l.add(a),()=>{l.delete(a)})},o.skipHydration||E(),b||y},N=A,Te=I()(N(e=>({selectedCurrency:"€",setCurrency:t=>e({selectedCurrency:t})}),{name:"currency-storage"})),xe=I()(N((e,t)=>({transactions:[],addTransaction:n=>{e(s=>({transactions:[{...n,id:s.transactions.length>0?Math.max(...s.transactions.map(o=>o.id))+1:1},...s.transactions]}))},removeTransaction:n=>{e(s=>({transactions:s.transactions.filter(r=>r.id!==n)}))},removeAllTransactions:()=>{e(()=>({transactions:[]}))},getTransactions:()=>t().transactions}),{name:"transactions-storage",version:1})),F=I(e=>({lang:"ru",setLang:t=>e({lang:t})})),H={transactionsPage:"История операций",budgetPage:"Бюджет",settingsPage:"Настройки"},k={dashboard:"Главная",budget:"Бюджет",transactions:"Операции",settings:"Настройки"},D={balance:"Баланс",income:"Доход",expenses:"Расход",all:"Все",spent:"Потрачено",limit:"Лимит",remaining:"Осталось"},_={settingsPage:"Общие"},W={language:"Язык",Darktheme:"Темная Тема",EconomizesBattery:"Экономит заряд батареи",ClassicView:"Классический вид",currency:"Валюта",Removebudget:"Удалить бюджет",Confirmremovebudget:"Вы уверены, что хотите удалить бюджет? Это действие необратимо.",RemoveTransactions:"Удалить все транзакции",ConfirmremoveTransactions:"Вы уверены, что хотите удалить все транзакции? Это действие необратимо.",Cancel:"Отмена",Remove:"Удалить",Logout:"Выйти из аккаунта"},j={"€":"Евро",$:"Доллар","₽":"Рубль","₴":"Гривна"},G={Food:"Еда",Transport:"Транспорт",Housing:"Жилье",Restaurants:"Рестораны",Other:"Другое",Income:"Доход",Crypto:"Крипто"},J={expenseChartTitle:"Расходы по категориям"},q={filters:{all:"Все",income:"Доходы",expense:"Расходы"},empty:"Операций пока нет"},M={title:"Новая операция",expense:"Расход",income:"Доход",amount:"Сумма",category:"Категория",newCategory:"+ Новая",editCategory:"Редактирование",description:"Описание",descriptionPlaceholder:"На что потратили?",submit:"Подтвердить"},U={noCategory:"Без категории"},z={title:"Расходы по категориям",noCategory:"Без категории",noExpenses:"Нет расходов"},K={types:{needs:"Нужды",wants:"Желания",savings:"Сбережения"},labels:{spent:"Потрачено",limit:"Лимит",remaining:"Осталось"}},Q={setBudget:"Установить бюджет",budgetFor:"Бюджет на {date}",spent:"Потрачено",remaining:"Осталось"},V={title:"Общий бюджет",description:"Еще не установлен, пора начать",action:"Установить бюджет"},X={amountLabel:"Введите сумму бюджета ({currency})",schemeLabel:"Выберите схему разделения бюджета",schemePlaceholder:"Выберите схему",schemeOption:"Потребности: {needs}%, Желания: {wants}%, Накопления: {savings}%",errors:{amountInvalid:"Введите корректную сумму бюджета",schemeRequired:"Выберите схему разделения"},save:"Сохранить"},Y={titleAdd:"Добавить категорию",titleEdit:"Редактирование категории",nameLabel:"Название",namePlaceholder:"Например: Здоровье",typeLabel:"Тип",typeExpense:"Расход",typeIncome:"Доход",budgetTypeLabel:"Бюджетный тип",budgetTypeOnlyExpense:"Бюджетный тип доступен только для расходов",budgetTypeNeeds:"Необходимые",budgetTypeWants:"Развлечения",budgetTypeSavings:"Сбережения",iconLabel:"Иконка",addButton:"Добавить категорию",deleteButton:"Удалить категорию",saveButton:"Сохранить изменения",deleteBlocked:"Невозможно удалить категорию, так как существуют транзакции с этой категорией."},Z={version:"Finance App • v1.0.0"},ee={titles:H,navigation:k,common:D,SettingGroups:_,settingsBTN:W,currencyNames:j,categories:G,dashboard:J,transactions:q,addTransaction:M,transactionCard:U,expenseChart:z,budgetCategories:K,budgetSummary:Q,budgetEmpty:V,budgetForm:X,customCategories:Y,footer:Z},te={transactionsPage:"Transaction History",budgetPage:"Budget",settingsPage:"Settings"},ne={dashboard:"Dashboard",budget:"Budget",transactions:"Transactions",settings:"Settings"},se={balance:"Balance",income:"Income",expenses:"Expenses",all:"All",spent:"Spent",limit:"Limit",remaining:"Remaining"},oe={settingsPage:"General"},ae={language:"Language",Darktheme:"Dark Theme",EconomizesBattery:"Saves battery",ClassicView:"Classic view",currency:"Currency",Removebudget:"Remove Budget",Confirmremovebudget:"Are you sure you want to remove the budget? This action is irreversible.",RemoveTransactions:"Remove All Transactions",ConfirmremoveTransactions:"Are you sure you want to remove all transactions? This action is irreversible.",Cancel:"Cancel",Remove:"Remove",Logout:"Log Out"},re={"€":"Euro",$:"Dollar","₽":"Ruble","₴":"Hryvnia"},ie={Food:"Food",Transport:"Transport",Housing:"Housing",Restaurants:"Restaurants",Other:"Other",Income:"Income",Crypto:"Crypto"},ce={expenseChartTitle:"Expenses by Category"},ue={filters:{all:"All",income:"Income",expense:"Expenses"},empty:"No transactions yet"},le={title:"New transaction",expense:"Expense",income:"Income",amount:"Amount",category:"Category",newCategory:"New",editCategory:"Edit",description:"Description",descriptionPlaceholder:"What did you spend on?",submit:"Confirm"},de={noCategory:"No category"},ge={title:"Expenses by Category",noCategory:"No category",noExpenses:"No expenses"},me={types:{needs:"Needs",wants:"Wants",savings:"Savings"},labels:{spent:"Spent",limit:"Limit",remaining:"Remaining"}},pe={setBudget:"Set Budget",budgetFor:"Budget for {date}",spent:"Spent",remaining:"Remaining"},ye={title:"Total budget",description:"Not set yet, time to start",action:"Set budget"},be={amountLabel:"Enter budget amount ({currency})",schemeLabel:"Choose a budget split scheme",schemePlaceholder:"Select a scheme",schemeOption:"Needs: {needs}%, Wants: {wants}%, Savings: {savings}%",errors:{amountInvalid:"Enter a valid budget amount",schemeRequired:"Choose a split scheme"},save:"Save"},ve={titleAdd:"Add category",titleEdit:"Edit category",nameLabel:"Name",namePlaceholder:"e.g. Health",typeLabel:"Type",typeExpense:"Expense",typeIncome:"Income",budgetTypeLabel:"Budget type",budgetTypeOnlyExpense:"Budget type is available only for expenses",budgetTypeNeeds:"Needs",budgetTypeWants:"Wants",budgetTypeSavings:"Savings",iconLabel:"Icon",addButton:"Add category",deleteButton:"Delete category",saveButton:"Save changes",deleteBlocked:"Cannot delete category because there are transactions using it."},he={version:"Finance App • v1.0.0"},fe={titles:te,navigation:ne,common:se,SettingGroups:oe,settingsBTN:ae,currencyNames:re,categories:ie,dashboard:ce,transactions:ue,addTransaction:le,transactionCard:de,expenseChart:ge,budgetCategories:me,budgetSummary:pe,budgetEmpty:ye,budgetForm:be,customCategories:ve,footer:he},Se={ru:ee,en:fe},Ie=()=>{const e=F(t=>t.lang);return t=>{const n=t.split(".");let s=Se[e];for(const r of n)s=s?.[r];return s??t}};export{Te as a,Ie as b,I as c,F as d,N as p,xe as u};
