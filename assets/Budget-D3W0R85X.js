import{j as e,r as g}from"./index-DqF_UOxf.js";import{b as h,a as v,u as C}from"./useTranslate-BFk4fjx0.js";import{u as b}from"./budget.store-DdriIcqB.js";import{K as j}from"./transition-C4VDQFEU.js";import{u as p,d as N}from"./customCategories.store-BtWWAw-Z.js";import{f as w}from"./dateFormatter-DXrkKmr8.js";const S=({handleSetBudget:n})=>{const a=h();return e.jsx("div",{className:"text-white",children:e.jsxs("div",{className:"bg-linear-to-br from-blue-500 to-blue-600 rounded-2xl flex flex-col gap-3 p-6",children:[e.jsx("h2",{className:"text-xl",children:a("budgetEmpty.title")}),e.jsx("p",{children:a("budgetEmpty.description")}),e.jsx("button",{className:"w-full py-3 bg-white/90 hover:bg-white/80 rounded-2xl text-blue-600 font-medium transition-all active:scale-95",onClick:n,children:a("budgetEmpty.action")})]})})},B={standard:{id:"standard",name:"50 / 30 / 20",needs:50,wants:30,savings:20},gentle:{id:"gentle",name:"60 / 30 / 10",needs:60,wants:30,savings:10},accumulative:{id:"accumulative",name:"40 / 30 / 30",needs:40,wants:30,savings:30}},y=({onSubmit:n})=>{const[a,d]=g.useState({}),[l,o]=g.useState(""),[c,i]=g.useState(""),A=v(s=>s.selectedCurrency),t=h(),r=()=>{const s={},u=Number(l);return(!l||isNaN(u)||u<=0)&&(s.amount=t("budgetForm.errors.amountInvalid")),c||(s.scheme=t("budgetForm.errors.schemeRequired")),d(s),Object.keys(s).length===0},m=s=>{s.preventDefault(),!(!r()||!c)&&n({amount:Number(l),schemeId:c,dateCreate:new Date})};return e.jsxs("form",{className:"space-y-4",onSubmit:m,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:t("budgetForm.amountLabel").replace("{currency}",A)}),e.jsx("input",{type:"number",value:l,onChange:s=>o(s.target.value),placeholder:"1000",className:"w-full p-2 border rounded-lg"}),a.amount&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:t("budgetForm.schemeLabel")}),e.jsxs("select",{value:c,onChange:s=>i(s.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:t("budgetForm.schemePlaceholder")}),Object.values(B).map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",t("budgetForm.schemeOption").replace("{needs}",String(s.needs)).replace("{wants}",String(s.wants)).replace("{savings}",String(s.savings)),")"]},s.id))]}),a.scheme&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.scheme})]}),e.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:!l||!c,children:t("budgetForm.save")})]})},F=({isOpen:n,onClose:a,title:d})=>{const l=b(c=>c.setBudgetData),o=c=>{l(c.amount,c.schemeId,c.dateCreate),a()};return e.jsx(j,{show:n,as:g.Fragment,enter:"transition ease-out duration-300 transform",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-200 transform",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[e.jsx("button",{className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 text-lg font-bold",onClick:a,children:"âœ•"}),d&&e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:d}),e.jsx(y,{onSubmit:o})]})})})},D=({totalSpent:n,totalLimit:a,totalPercentage:d,isNull:l,date:o})=>{const[c,i]=g.useState(!1);l=a===0;const A=v(r=>r.selectedCurrency),t=h();return e.jsx("div",{className:"text-white bg-background flex flex-col gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(S,{handleSetBudget:()=>i(!0)}),e.jsx(F,{isOpen:c,onClose:()=>i(!1),title:t("budgetSummary.setBudget")})]}):e.jsxs("div",{className:"bg-linear-to-br from-blue-500 to-blue-600 rounded-2xl p-6 mb-6",children:[e.jsx("p",{className:"mb-2",children:t("budgetSummary.budgetFor").replace("{date}",o)}),e.jsxs("p",{className:"text-3xl mb-4",children:[a.toLocaleString("ru-RU")," ",A]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm t",children:t("budgetSummary.spent")}),e.jsxs("p",{className:"text-xl",children:[n.toLocaleString("ru-RU")," ",A]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm",children:t("budgetSummary.remaining")}),e.jsxs("p",{className:"text-xl",children:[(a-n).toLocaleString("ru-RU")," ",A]})]})]}),e.jsx("div",{className:"mt-4 h-2 bg-blue-400/30 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${d}%`}})})]})})};function E({percentage:n,color:a}){const l=2*Math.PI*32;n>100&&(n=100);const o=l-n/100*l;return e.jsxs("div",{className:"relative w-20 h-20",children:[e.jsxs("svg",{className:"transform -rotate-90 w-20 h-20",children:[e.jsx("circle",{cx:"40",cy:"40",r:32,stroke:"#E5E7EB",strokeWidth:"6",fill:"none"}),e.jsx("circle",{cx:"40",cy:"40",r:32,stroke:a,strokeWidth:"6",fill:"none",strokeDasharray:l,strokeDashoffset:o,strokeLinecap:"round",className:"transition-all duration-500"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-sm",children:[Math.round(n),"%"]})})]})}const T="data:image/png;base64,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",G="data:image/png;base64,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",R="data:image/png;base64,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",f={needs:{name:"Needs",iconUrl:T,color:"#3B82F6"},wants:{name:"Wants",iconUrl:G,color:"#8B5CF6"},savings:{name:"Savings",iconUrl:R,color:"#10B981"}},U=({scheme:n})=>{const{budget:a}=b(),d=C(t=>t.transactions),l=v(t=>t.selectedCurrency),{create_date:o}=b(),c=n?B[n]:void 0,i=h(),A=g.useMemo(()=>{if(!c)return[];const t={needs:0,wants:0,savings:0};for(const r of d){if(r.type!==-1)continue;if(o){const u=new Date(r.date),x=new Date(o);if(u.getMonth()!==x.getMonth()||u.getFullYear()!==x.getFullYear())continue}const m=p.getState().categories,s=[...N,...m].find(u=>u.id===r.id_category);s&&s.type==="expense"&&s.budgetType&&(t[s.budgetType]+=Math.abs(r.amount))}return["needs","wants","savings"].map(r=>({type:r,name:i(`budgetCategories.types.${r}`),amount:t[r],limit:a*c[r]/100,color:f[r].color,iconUrl:f[r].iconUrl}))},[d,N,o,a,c,i]);return e.jsx(e.Fragment,{children:A.map(t=>{const r=t.limit>0?t.amount/t.limit*100:0,m=r>100;return e.jsx("div",{className:"bg-muted/30 rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 ",children:[e.jsx(E,{percentage:r,color:m?"#EF4444":t.color}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:`${t.color}15`},children:e.jsx("img",{src:t.iconUrl,alt:t.name,className:"w-4 h-4"})}),e.jsx("p",{className:"font-medium",children:t.name})]})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:i("budgetCategories.labels.spent")}),e.jsxs("span",{className:m?"text-red-600":"",children:[t.amount.toLocaleString("ru-RU")," ",l]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:i("budgetCategories.labels.limit")}),e.jsxs("span",{children:[t.limit.toLocaleString("ru-RU")," ",l]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:i("budgetCategories.labels.remaining")}),e.jsxs("span",{className:m?"text-red-600":"text-green-600",children:[(t.limit-t.amount).toLocaleString("ru-RU")," ",l]})]})]})]})]})},t.type)})})},X=n=>new Date(n.getFullYear(),n.getMonth()+1,0),k=n=>new Date(n.getFullYear(),n.getMonth(),1),Y=()=>{const n=C(s=>s.transactions),{budget:a,create_date:d,scheme:l}=b(),o=k(d),c=X(d),i=new Date(d),A=`${w(o)} - ${w(c)}`,t=a<=0,r=n.reduce((s,u)=>{if(u.type!==-1)return s;const x=new Date(u.date);return x.getMonth()===i.getMonth()&&x.getFullYear()===i.getFullYear()?s+Math.abs(u.amount):s},0),m=a>0?r/a*100:0;return e.jsxs("div",{className:"min-h-screen bg-background text-primary p-6 pb-8 transition-colors duration-300",children:[e.jsx(D,{totalSpent:r,totalLimit:a,totalPercentage:m,isNull:t,date:A}),e.jsx("div",{className:"px-4 gap-6 flex flex-col",children:e.jsx(U,{scheme:l})})]})};export{Y as default};
